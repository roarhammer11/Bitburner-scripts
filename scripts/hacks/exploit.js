/** @param {NS} ns */
export async function main(ns) {
	let networkName = ns.args[0];
	const securityThresh = ns.getServerMinSecurityLevel(networkName) + 5;
	const moneyThresh = ns.getServerMaxMoney(networkName) * 0.75;
	while (true) {
		if (ns.getServerSecurityLevel(networkName) > securityThresh) {
			await ns.weaken(networkName)
		}
		else if (moneyThresh > ns.getServerMoneyAvailable(networkName)) {
			await ns.grow(networkName);
		} else {
			await ns.hack(networkName);
		}
	}
}